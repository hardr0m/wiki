
<h2 class="sectionedit1" id="основные_команды">Основные команды</h2>
<div class="level2">

<p>
Заходим 
</p>

<p>
# ​su postgres
</p>

<p>
Чтобы создать базу данных необходимо написать стандартную команду SQL:
</p>
<pre class="code">CREATE DATABASE test_db;</pre>

<p>
Чтобы создать пользователя воспользуйтесь командой:
</p>
<pre class="code">CREATE USER test_user WITH password &#039;qwerty&#039;;</pre>

<p>
Но на данную базу данных у пользователя не будет прав. Чтобы создать базу с владельцем добавьте опциональный параметр OWNER:
</p>
<pre class="code">CREATE DATABASE test_database OWNER test_user;</pre>

<p>
Можно также дать права на базу пользователю командой:
</p>
<pre class="code">GRANT ALL privileges ON DATABASE test_db TO test_user;</pre>

<p>
Для удаления базы данных можно воспользоваться командой:
</p>
<pre class="code">DROP DATABASE test_db;</pre>

<p>
Экспорт:  
</p>
<pre class="code">pg_dump -U username -h localhost databasename &gt;&gt; sqlfile.sql

pg_dump -Fc -v - -host=localhost - -username=zabbix - -dbname=zabbix_db -f zabbix_db.dump  

pg_dump -Fc -v - -host=localhost - -username=masterlogin - -dbname=testdb -f testdb.dump</pre>

<p>
Импорт:
</p>
<pre class="code"># psql &lt; sqlfile.sql 

pg_restore -v - -no-owner - -host=mydemoserver.postgres.database.azure.com - -port=5432 - -username=mylogin@mydemoserver - -dbname=mypgsqldb testdb.dump</pre>

<p>
<em>При включении параметра - -no-owner все объекты, созданные во время восстановления, будут присвоены пользователю, отмеченному - -username.</em><em class="u">Подчёркнутый</em>
</p>

</div>
